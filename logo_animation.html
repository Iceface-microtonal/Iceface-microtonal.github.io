<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>カオスロゴ（5枚画像版）</title>
<style>
    body, html {
        height: 100%;
        margin: 0;
        overflow: hidden;
        background-color: #f0f4f8;
    }
    
    #chaos-container {
        position: relative;
        width: 100%;
        height: 100%;
        pointer-events: none;
    }

    /* 画像の共通設定 */
    .chaos-img {
        position: absolute;
        width: 100px; /* 基本のサイズ（ここから拡大縮小されます） */
        height: auto; /* 縦横比を維持 */
        will-change: transform, left, top;
    }

    /* --- アニメーション定義（回転や振動） --- */
    @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes spin-rev { from { transform: rotate(360deg); } to { transform: rotate(0deg); } }
    @keyframes wobble { 
        0%, 100% { transform: scale(1) rotate(0deg); } 
        50% { transform: scale(1.1) rotate(10deg); } 
    }

    /* JSで付与するクラス */
    .anim-spin { animation: spin 3s linear infinite; }
    .anim-spin-fast { animation: spin 0.5s linear infinite; } /* 超高速回転 */
    .anim-spin-rev { animation: spin-rev 5s linear infinite; }
    .anim-wobble { animation: wobble 0.5s ease-in-out infinite; }

</style>
</head>
<body>

    <div id="chaos-container"></div>

<script>
    const container = document.getElementById('chaos-container');

    // 画像ファイル名のリスト
    // ファイル名が違う場合はここを書き換えてください
    const imageFiles = [
        'pa.png', // パ
        'pe.png', // ペ
        'to.png', // トゥ
        'i.png', // イ
        'n.png'  // ン
    ];

    // 付与する動きのパターンのリスト
    const animClasses = ['anim-spin', 'anim-spin-fast', 'anim-spin-rev', 'anim-wobble', ''];

    function createChaosChar() {
        // img要素を作成
        const img = document.createElement('img');
        img.classList.add('chaos-img');

        // 1. ランダムに画像を選んでセット
        const randomFile = imageFiles[Math.floor(Math.random() * imageFiles.length)];
        img.src = randomFile;

        // 2. 出現位置とゴール地点を計算
        const viewportW = window.innerWidth;
        const viewportH = window.innerHeight;
        const offset = 200; // 画面外のマージン

        // 4方向のどこから出るかランダム決定
        const startSide = Math.floor(Math.random() * 4);
        let startX, startY, endX, endY;

        switch(startSide) {
            case 0: // 上から
                startX = Math.random() * viewportW; startY = -offset;
                endX = Math.random() * viewportW; endY = viewportH + offset; break;
            case 1: // 右から
                startX = viewportW + offset; startY = Math.random() * viewportH;
                endX = -offset; endY = Math.random() * viewportH; break;
            case 2: // 下から
                startX = Math.random() * viewportW; startY = viewportH + offset;
                endX = Math.random() * viewportW; endY = -offset; break;
            case 3: // 左から
                startX = -offset; startY = Math.random() * viewportH;
                endX = viewportW + offset; endY = Math.random() * viewportH; break;
        }

        img.style.left = `${startX}px`;
        img.style.top = `${startY}px`;

        // 3. ランダムなパラメータ設定
        const duration = 3 + Math.random() * 5; // 移動時間 (3〜8秒)
        const delay = Math.random() * 0.5; // 少し遅れて出る
        const scale = 0.5 + Math.random() * 2.5; // 大きさ (0.5倍〜3倍)
        const finalRotate = Math.random() * 720 - 360; // 移動中の回転

        // 追加の動き（ぐるぐる回り続けるなど）をランダム適用
        const extraAnim = animClasses[Math.floor(Math.random() * animClasses.length)];
        if(extraAnim) img.classList.add(extraAnim);

        // CSS Transitionの設定
        img.style.transition = `
            left ${duration}s linear ${delay}s,
            top ${duration}s linear ${delay}s,
            transform ${duration}s ease-out ${delay}s
        `;

        // 初期状態（小さくしておく）
        img.style.transform = `scale(0)`;

        container.appendChild(img);

        // アニメーション実行
        requestAnimationFrame(() => {
            requestAnimationFrame(() => {
                img.style.left = `${endX}px`;
                img.style.top = `${endY}px`;
                // ここで「移動自体の回転・拡大」と「CSS Animationの回転」が合わさる
                img.style.transform = `scale(${scale}) rotate(${finalRotate}deg)`;
            });
        });

        // 画面外に出たら削除
        setTimeout(() => {
            img.remove();
        }, (duration + delay + 1) * 1000);
    }

    // 0.1秒ごとに生成（かなり賑やかになります）
    setInterval(createChaosChar, 100);

</script>
</body>
</html>
